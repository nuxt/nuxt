---
navigation.icon: uil:laptop-connection
description: Using server directory to create middlewares, plugins and API easily.
---

# Server Directory

Server directory can be used for creating API routes to implement data fetching from remote server, accessing database or performing actions on the server before returning some data.

Each file under these folders must return a default export `defineEventHandler()`.

## Server Routes

Anything under `~/server/api` folder will create API routes to fetch data within API route.

```ts [server/api/hello.ts]
export default defineEventHandler(() => {
    return {
      greetings: 'traveler'
    }
})
```

```vue [components/Greet.vue]
<script setup lang="ts">
const { data } = await useFetch('/api/hello')
</script>

<template>
  <div>
     {{ data }}
   </div>
</template>
```

This server route will return a data object that contains an object with content of `{greetings: 'traveler'}` printed in the template tag.

Server route file will automatically match with `GET` method and it can be changed by adding method names to file name such as: `.post`, `.put`, `.delete`.
Routes may accept parameters, body and query parameters to get some values.

:ReadMore{link="/docs/guide/directory-structure/server#matching-route-parameters"}

## Server Middleware

Nuxt will read anything under `~/server/middleware` folder and create middleware for you to tweak request information.

```ts [server/middleware/log.ts]
export default defineEventHandler((event) => {
  event.context.auth = { user: 123 }
})
```

:ReadMore{link="/docs/guide/directory-structure/server#server-middleware"}

## Server Plugins

Any files under `~/server/plugins` folder will be registered as Nitro Plugin for changing [Nitro](https://nitro.unjs.io/)'s behavior.

:ReadMore{link="/docs/guide/directory-structure/server#server-plugins"}

## Server Utils

[unjs/h3](https://github.com/unjs/h3) which powers server routes has many useful helpers that you can use inside server routes.

:ReadMore{link="https://www.jsdocs.io/package/h3#package-index-functions" title="Available H3 Request Helpers"}

Incase of you want to have your own helper functions to solve your problem, they can be places under `~/server/utils` folder and they will be imported automatically for you to use.

::alert{type="warning"}
Composables created under `~/composables` folder cannot be used on server routes.
::

:ReadMore{link="/docs/guide/directory-structure/server#server-utilities"}
